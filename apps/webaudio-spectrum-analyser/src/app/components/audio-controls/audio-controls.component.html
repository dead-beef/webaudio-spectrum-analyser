<audio
  #audio
  [src]="src | safeUrl"
  (timeupdate)="timeUpdate()"
  (play)="setPaused(false)"
  (pause)="setPaused(true)"
  (loadeddata)="loadedData()"
></audio>

<app-alert [(error)]="error"></app-alert>

<div class="clr-row">
  <div class="clr-col-auto">
    <button
      class="btn btn-icon btn-flat"
      (click)="toggle()"
      [disabled]="error !== null"
    >
      <cds-icon shape="play" *ngIf="paused else pause"></cds-icon>
      <ng-template #pause>
        <cds-icon shape="pause"></cds-icon>
      </ng-template>
    </button>
  </div>
  <div class="clr-col-auto">
    <div class="clr-row clr-align-items-center fill-height">
      <div class="clr-col-12">{{ time | time }} / {{ duration | time }}</div>
    </div>
  </div>
  <div class="clr-col">
    <input
      clrRange
      type="range"
      min="0"
      [max]="duration"
      step="0.1"
      [disabled]="error !== null"
      [(ngModel)]="time"
    />
  </div>
</div>
